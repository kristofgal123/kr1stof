/* --- Astro 5.11 Inspirált Színpaletta és Dizájn --- */
:root {
    --bg-astro-dark: #0A0D11;           /* Még sötétebb háttér */
    --panel-bg: #1A1F26;                /* Panel/kártya háttér: Kékebb sötét szürke */
    --text-primary: #EBF1F7;            /* Elsődleges szöveg: Nagyon világos szürke */
    --text-secondary: #BCC5D2;          /* Másodlagos szöveg: Tompított kékes szürke */
    --border-color: #333C48;            /* Vékony keret szín */

    /* Fő kiemelő szín: Vibráló elektromos kék (Astro neon-kék érzet) */
    --accent-color-light: #00BFFF;      /* Deep Sky Blue */
    --accent-color-dark: #0099CC;       /* Sötétebb árnyalat hoverre */
    --accent-glow-strength: 0 0 15px rgba(0, 191, 255, 0.7); /* Eredeti glow */
    --accent-glow-soft: 0 0 8px rgba(0, 191, 255, 0.4);   /* Eredeti glow */

    --danger-color: #FF5C5C;            /* Piros (kijelentkezés, hiba) */
    --danger-color-hover: #E63946;

    /* Státusz színek */
    --status-in-progress: var(--accent-color-light); /* Folyamatban: Kiemelő szín */
    --status-completed: #50FA7B;        /* Befejezett: Élénk zöld */
    --status-completed-glow: 0 0 10px rgba(80, 250, 123, 0.5); /* Zöld glow */
}

/* --- Globális Reset és Alapvető Stílusok --- */
html {
    box-sizing: border-box;
    font-size: 16px; /* Alap betűméret */
}
*, *::before, *::after {
    box-sizing: inherit;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Inter', 'Roboto', 'Open Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--text-primary);
    background-color: var(--bg-astro-dark);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden; /* Megakadályozza a vízszintes scrollbart, ha valami kilóg */
    transition: background-color 0.3s ease;
}

/* Scrollbar stílus */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--bg-astro-dark); }
::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

/* --- Utility / Segédosztályok (Tailwind ihletésű) --- */
.flex { display: flex; }
.items-center { align-items: center; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.flex-col { flex-direction: column; }
.flex-grow { flex-grow: 1; }

.p-4 { padding: 1rem; } .p-6 { padding: 1.5rem; } .p-8 { padding: 2rem; }
.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; } .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; } .px-4 { padding-left: 1rem; padding-right: 1rem; }
.mt-2 { margin-top: 0.5rem; } .mt-4 { margin-top: 1rem; } .mt-6 { margin-top: 1.5rem; } .mt-8 { margin-top: 2rem; }
.mb-1 { margin-bottom: 0.25rem; } .mb-2 { margin-bottom: 0.5rem; } .mb-3 { margin-bottom: 0.75rem; } .mb-4 { margin-bottom: 1rem; } .mb-6 { margin-bottom: 1.5rem; }
.mr-4 { margin-right: 1rem; } .gap-4 { gap: 1rem; } .gap-6 { gap: 1.5rem; }

.min-h-screen { min-height: 100vh; } .w-full { width: 100%; }
.max-w-xs { max-width: 20rem; } .max-w-md { max-width: 28rem; } .max-w-lg { max-width: 32rem; }
.h-10 { height: 2.5rem; } .h-16 { height: 4rem; } .h-24 { height: 6rem; }

.rounded-md { border-radius: 0.375rem; } .rounded-lg { border-radius: 0.5rem; } .rounded-xl { border-radius: 0.75rem; }
.shadow-sm { box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3); } .shadow-md { box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4); }
.shadow-lg { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5); } .shadow-xl { box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6); }

/* Betűméretek */
.text-xs { font-size: 0.75rem; }
.text-sm { font-size: 0.875rem; }
.text-base { font-size: 1rem; }
.text-lg { font-size: 1.125rem; }
.text-xl { font-size: 1.25rem; }
.text-2xl { font-size: 1.5rem; }
.text-3xl { font-size: 1.875rem; }
.text-4xl { font-size: 2.25rem; }

.font-bold { font-weight: 700; } .font-semibold { font-weight: 600; } .font-medium { font-weight: 500; }
.text-center { text-align: center; } .italic { font-style: italic; } .leading-tight { line-height: 1.25; }

/* Középre igazító konténer */
.container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    max-width: 1536px;
}
@media (min-width: 640px) { .container { padding-left: 2rem; padding-right: 2rem; } }
@media (min-width: 768px) { .container { padding-left: 2.5rem; padding-right: 2.5rem; } }

/* Rejtett elem */
.hidden { display: none; }

/* Színnév térképezés */
.bg-astro-dark { background-color: var(--bg-astro-dark); }
.bg-panel { background-color: var(--panel-bg); }
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.border-primary { border-color: var(--border-color); }


/* --- HEADER / NAVIGÁCIÓ --- */
.app-header {
    background-color: var(--panel-bg);
    border-bottom: 1px solid var(--border-color);
    padding: 1rem 1.5rem;
    box-shadow: var(--shadow-md);
    position: sticky;
    top: 0;
    z-index: 1000;
    display: flex; /* Flexbox biztosítása */
    align-items: center; /* Vertikális középre igazítás */
    justify-content: space-between; /* Elemek elosztása */
    flex-wrap: wrap; /* Mobilon törhet */
    gap: 1rem; /* Kisebb rés a mobilon */
}
.app-header .logo-wrapper {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: inherit;
    transition: transform 0.2s ease-in-out;
}
.app-header .logo-wrapper:hover {
    transform: translateY(-3px);
}
.app-header .logo-wrapper img {
    height: 3.5rem;
    width: 3.5rem;
    margin-right: 0.75rem;
    filter: drop-shadow(var(--accent-glow-strength));
    border-radius: 50%;
    border: 3px solid var(--accent-color-light);
    transition: all 0.3s ease;
}
.app-header .logo-wrapper img:hover {
    border-color: var(--accent-color-dark);
}
.app-header .title {
    font-size: 2rem;
    font-weight: 800;
    color: var(--accent-color-light);
    letter-spacing: 0.08em;
    text-shadow: var(--accent-glow-soft);
}

@media (max-width: 768px) {
    .app-header {
        padding: 0.8rem 1rem;
        justify-content: center; /* Mobilon középre a logo és a gomb */
    }
    .app-header .logo-wrapper {
        flex-basis: 100%; /* A logó vegye fel a teljes szélességet */
        justify-content: center; /* Középre igazítás */
        margin-bottom: 1rem; /* Margó a gomb és a logó között */
    }
    .app-header .logo-wrapper img {
        height: 3rem;
        width: 3rem;
        margin-right: 0.5rem;
    }
    .app-header .title {
        font-size: 1.8rem;
    }
    .app-header .btn {
        width: 100%; /* A kijelentkezés gomb teljes széles legyen mobilon */
        max-width: 200px; /* Max szélesség a gombnak */
    }
}


/* --- Általános Gomb Stílusok --- */
.btn {
    font-weight: 600;
    padding: 0.85rem 1.8rem;
    border-radius: 0.45rem;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    border: none;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    outline: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-size: 1rem;
}
.btn:focus {
    box-shadow: 0 0 0 4px rgba(0, 191, 255, 0.3);
}

.btn-primary {
    background-color: var(--accent-color-light);
    color: var(--bg-astro-dark);
    box-shadow: 0 6px 20px rgba(0, 191, 255, 0.4);
}
.btn-primary:hover {
    background-color: var(--accent-color-dark);
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(0, 191, 255, 0.6);
}
.btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}

.btn-danger {
    background-color: var(--danger-color);
    color: var(--text-primary);
    box-shadow: 0 6px 20px rgba(255, 92, 92, 0.3);
}
.btn-danger:hover {
    background-color: var(--danger-color-hover);
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(255, 92, 92, 0.5);
}
.btn-danger:active {
    transform: translateY(0);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}


/* --- LOGIN PANEL --- */
.login-panel {
    background-color: var(--panel-bg);
    border: 1px solid var(--border-color);
    padding: 3rem 3.5rem;
    border-radius: 1rem;
    box-shadow: var(--shadow-xl);
    position: relative;
    overflow: hidden;
    background: linear-gradient(160deg, var(--panel-bg) 0%, #10161d 100%);
    width: 100%;
    max-width: 500px;
}
.login-panel::before {
    content: '';
    position: absolute;
    top: -30%;
    left: -30%;
    width: 160%;
    height: 160%;
    background: radial-gradient(circle at center, rgba(0, 191, 255, 0.15) 0%, transparent 60%);
    opacity: 0.5;
    z-index: 0;
    animation: rotateAstro 50s linear infinite;
}
@keyframes rotateAstro {
    from { transform: rotate(0deg); opacity: 0.5; }
    50% { transform: rotate(180deg); opacity: 0.6; }
    to { transform: rotate(360deg); opacity: 0.5; }
}
.login-panel > * {
    position: relative;
    z-index: 1;
}

.login-panel .login-header img {
    height: 7rem;
    width: 7rem;
    margin-bottom: 2.5rem;
    filter: drop-shadow(var(--accent-glow-strength));
    border-radius: 50%;
    border: 4px solid var(--accent-color-light);
}
.login-panel .login-title {
    font-size: 3rem;
    font-weight: 900;
    margin-bottom: 3rem;
    color: var(--accent-color-light);
    text-shadow: var(--accent-glow-strength);
}

/* Input mezők */
.login-panel input {
    background-color: var(--bg-astro-dark);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    padding: 1rem 1.4rem;
    border-radius: 0.5rem;
    transition: all 0.3s ease;
    font-size: 1rem;
}
.login-panel input::placeholder {
    color: var(--text-secondary);
}
.login-panel input:focus {
    border-color: var(--accent-color-light);
    box-shadow: 0 0 0 4px rgba(0, 191, 255, 0.4);
    background-color: #11151a;
}
.login-panel label {
    color: var(--text-secondary);
    font-weight: 500;
    font-size: 1rem;
    margin-bottom: 0.8rem;
}

/* Login gomb */
.login-panel .btn-login {
    width: 100%;
    max-width: 280px;
    margin-top: 2rem;
    font-size: 1.25rem;
}

@media (max-width: 500px) {
    .login-panel {
        padding: 2rem 1.5rem;
        border-radius: 0.75rem;
    }
    .login-panel .login-header img {
        height: 5rem;
        width: 5rem;
        margin-bottom: 1.5rem;
    }
    .login-panel .login-title {
        font-size: 2.2rem;
        margin-bottom: 2rem;
    }
    .login-panel input {
        padding: 0.8rem 1rem;
    }
    .login-panel label {
        font-size: 0.9rem;
    }
    .login-panel .btn-login {
        font-size: 1.1rem;
        padding: 0.75rem 1.5rem;
    }
}


/* --- DASHBOARD - TÁBLÁZAT --- */
.main-title {
    color: var(--accent-color-light);
    font-size: 3rem;
    font-weight: 800;
    margin-bottom: 0.5rem; /* Enyhén csökkentett margó, mert jön a team választó */
    text-shadow: var(--accent-glow-strength);
    letter-spacing: 0.08em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

@media (max-width: 768px) {
    .main-title {
        font-size: 2.2rem;
        margin-bottom: 0.5rem;
    }
}

/* Csapatválasztó stílusok */
.team-selector {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2.5rem; /* Margó a cím és a táblázat között */
    flex-wrap: wrap; /* Hogy mobilon törjön */
}
.team-selector label {
    font-size: 1.1rem;
    color: var(--text-secondary);
    font-weight: 600;
    margin-right: 0.5rem;
    display: flex;
    align-items: center;
}
.team-selector select {
    background-color: var(--panel-bg);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    padding: 0.7rem 1rem;
    border-radius: 0.5rem;
    font-size: 1rem;
    appearance: none; /* Alapértelmezett nyíl eltüntetése */
    -webkit-appearance: none;
    -moz-appearance: none;
    cursor: pointer;
    outline: none;
    transition: all 0.3s ease;
    box-shadow: var(--shadow-sm);
    min-width: 200px; /* Minimum szélesség */
}
.team-selector select:hover {
    border-color: var(--accent-color-dark);
    background-color: #262d38;
}
.team-selector select:focus {
    border-color: var(--accent-color-light);
    box-shadow: 0 0 0 3px rgba(0, 191, 255, 0.3);
}

/* Custom nyíl a selecthez */
.select-wrapper {
    position: relative;
    display: inline-block;
}
.select-wrapper::after {
    content: '▼';
    font-size: 0.8rem;
    color: var(--text-secondary);
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
}

#currentTeamDisplay {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-secondary);
    margin-top: 1rem;
    text-align: center;
    text-shadow: 0 0 5px rgba(0, 191, 255, 0.1);
}
@media (max-width: 768px) {
    .team-selector {
        flex-direction: column;
        align-items: center;
        gap: 0.8rem;
        margin-bottom: 1.5rem;
    }
    .team-selector select {
        width: 100%;
        max-width: 250px;
    }
    #currentTeamDisplay {
        font-size: 1.2rem;
        margin-top: 0.8rem;
    }
}


.appointment-table-wrapper {
    overflow-x: auto; /* Ez továbbra is hasznos lehet nagyon széles táblázat esetén, de a kártya nézet megelőzi a problémát */
    border-radius: 0.75rem;
    box-shadow: var(--shadow-xl);
    border: 1px solid var(--border-color);
    background-color: var(--panel-bg);
}

.appointment-table {
    width: 100%;
    border-collapse: collapse;
    background-color: transparent;
    table-layout: fixed; /* Fixed asztali nézeten */
}
.appointment-table th, .appointment-table td {
    padding: 1rem 1.2rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
    color: var(--text-primary);
    word-wrap: break-word;
    white-space: normal;
}
.appointment-table th {
    background-color: #262D38;
    color: var(--text-primary);
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.95rem;
    letter-spacing: 0.1em;
    position: sticky;
    top: 0;
    z-index: 10;
}

/* Oszlopszélességek finomhangolása (összesen 100%) */
.appointment-table th:nth-child(1), .appointment-table td:nth-child(1) { width: 10%; } /* Dátum */
.appointment-table th:nth-child(2), .appointment-table td:nth-child(2) { width: 8%; } /* Idő */
.appointment-table th:nth-child(3), .appointment-table td:nth-child(3) { width: 18%; } /* Cím */
.appointment-table th:nth-child(4), .appointment-table td:nth-child(4) { width: 15%; } /* Ügyfél neve */
.appointment-table th:nth-child(5), .appointment-table td:nth-child(5) { width: 14%; } /* Telefon */
.appointment-table th:nth-child(6), .appointment-table td:nth-child(6) { width: 8%; } /* Klím kW */
.appointment-table th:nth-child(7), .appointment-table td:nth-child(7) { width: 12%; } /* Státusz */
.appointment-table th:nth-child(8), .appointment-table td:nth-child(8) { width: 15%; } /* Leírás */


.appointment-table tbody tr {
    transition: background-color 0.2s ease-in-out;
}
.appointment-table tbody tr:hover {
    background-color: #2F3742;
}
.appointment-table tbody tr:last-child td {
    border-bottom: none;
}
.appointment-table td {
    vertical-align: middle;
    font-size: 0.95rem;
}

/* Kiemelt adatok a táblázatban */
.highlight-text {
    color: var(--accent-color-light);
    font-weight: 600;
    text-shadow: 0 0 5px rgba(0, 191, 255, 0.3);
}
.highlight-phone a {
    color: var(--status-completed);
    font-weight: 600;
    text-decoration: none;
    text-shadow: 0 0 5px rgba(80, 250, 123, 0.3);
    transition: text-shadow 0.2s ease;
}
.highlight-phone a:hover {
    text-shadow: 0 0 10px rgba(80, 250, 123, 0.6);
}

.appointment-table .text-muted-small {
    color: var(--text-secondary);
    font-size: 0.85rem;
    margin-top: 0.2rem;
}

/* Státusz jelző táblázatban */
.status-badge {
    display: inline-block;
    padding: 0.5em 1em;
    border-radius: 0.375rem;
    font-size: 0.85rem;
    font-weight: 700;
    text-transform: uppercase;
    color: var(--bg-astro-dark);
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
}
.status-badge.status-in-progress {
    background-color: var(--status-in-progress);
    box-shadow: 0 2px 10px rgba(0, 191, 255, 0.6);
}
.status-badge.status-completed {
    background-color: var(--status-completed);
    box-shadow: 0 2px 10px rgba(80, 250, 123, 0.6);
}


/* Hiba és töltés üzenetek */
#loadingMessage, #errorMessage, #noAppointmentsMessage {
    background-color: var(--panel-bg);
    border: 1px solid var(--border-color);
    padding: 1.8rem;
    border-radius: 0.6rem;
    margin-top: 2.5rem;
    color: var(--text-primary);
    font-weight: 500;
    text-align: center;
    box-shadow: var(--shadow-md);
    font-size: 1.1rem;
}
#errorMessage {
    border-color: var(--danger-color);
    background-color: rgba(255, 92, 92, 0.15);
    color: var(--danger-color);
    font-weight: 700;
    font-size: 1.2rem;
}

/* Reszponzivitás a táblázathoz (kártya stílus mobilon) */
@media screen and (max-width: 768px) {
    .appointment-table-wrapper {
        border: 0;
        box-shadow: none;
        background-color: transparent;
        padding: 0 1rem; /* Belső padding a kártyákhoz */
    }
    .appointment-table {
        table-layout: auto; /* Mobilon visszaáll auto-ra */
        min-width: unset;
        background-color: transparent;
        border: none;
        box-shadow: none;
    }
    .appointment-table thead {
        border: none;
        clip: rect(0 0 0 0);
        height: 1px;
        margin: -1px;
        overflow: hidden;
        padding: 0;
        position: absolute;
        width: 1px;
    }
    .appointment-table tbody {
        display: block; /* Hogy a tr-ek blokk elemek legyenek */
        width: 100%;
    }
    .appointment-table tr {
        background-color: var(--panel-bg);
        border: 1px solid var(--border-color);
        border-radius: 0.75rem;
        display: block;
        margin-bottom: 1.5rem; /* Nagyobb margó a kártyák között */
        box-shadow: 0 6px 15px rgba(0,0,0,0.5);
        transition: transform 0.2s ease;
    }
    .appointment-table tr:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.6);
    }
    .appointment-table td {
        border-bottom: 1px solid var(--border-color);
        display: block;
        font-size: 0.95em; /* Kicsit nagyobb betűméret */
        text-align: right;
        padding: 1rem 1.4rem;
        position: relative; /* Pozícionáláshoz */
    }
    .appointment-table td::before {
        content: attr(data-label) ": ";
        float: left;
        font-weight: bold;
        text-transform: uppercase;
        color: var(--text-secondary);
        font-size: 0.85em;
        margin-right: 0.5rem;
        position: absolute; /* Fix pozíció */
        left: 1.4rem; /* Paddinghoz igazítva */
    }
    .appointment-table td:last-child {
        border-bottom: 0;
    }
    .appointment-table .status-badge {
        float: none;
        display: inline-block; /* Hogy ne vegyen fel teljes szélességet */
        text-align: center;
        margin-top: 0.8rem;
        min-width: 100px; /* Minimum szélesség a badge-nek */
    }

    /* Utolsó cella, ha nincs címkéje */
    .appointment-table td:empty {
        display: none; /* Üres cellák elrejtése */
    }
}
